# MacDown for Windows ğŸš€

> ç¾ä»£åŒ–çš„ Markdown ç·¨è¼¯å™¨ï¼Œå…·å‚™å³æ™‚é è¦½ã€èªæ³•é«˜äº®èˆ‡ SQLite æ–‡ä»¶åº«

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Electron](https://img.shields.io/badge/Electron-28-blue.svg)](https://www.electronjs.org/)
[![React](https://img.shields.io/badge/React-18-61dafb.svg)](https://reactjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.3-blue.svg)](https://www.typescriptlang.org/)

MacDown for Windows æ˜¯å— macOS ç¶“å…¸ Markdown ç·¨è¼¯å™¨ [MacDown](https://macdown.uranusjr.com/) å•Ÿç™¼ï¼Œå°ˆç‚º Windows å¹³å°æ‰“é€ çš„ç¾ä»£åŒ– Markdown ç·¨è¼¯å™¨ã€‚

## âœ¨ åŠŸèƒ½ç‰¹è‰²

### ğŸ¨ **é›™ä¸»é¡Œæ”¯æ´**
- æ˜äº®/æ·±è‰²ä¸»é¡Œä¸€éµåˆ‡æ›
- CodeMirror 6 ç·¨è¼¯å™¨ä¸»é¡ŒåŒæ­¥
- Tailwind Typography ç²¾ç¾æ’ç‰ˆ
- ä¸»é¡Œåå¥½è‡ªå‹•å„²å­˜

### ğŸ“ **å¼·å¤§çš„ç·¨è¼¯é«”é©—**
- **CodeMirror 6** å°ˆæ¥­ç¨‹å¼ç¢¼ç·¨è¼¯å™¨
- Markdown å³æ™‚èªæ³•é«˜äº®
- è¡Œè™Ÿã€ç¨‹å¼ç¢¼æŠ˜ç–Šã€è‡ªå‹•å®Œæˆ
- å…¨æ–‡æœå°‹ï¼ˆCtrl+Fï¼‰
- æ­·å²è¨˜éŒ„ï¼ˆCtrl+Z/Yï¼‰

### ğŸ¯ **å³æ™‚é è¦½**
- å·¦å³åˆ†æ¬„åŒæ­¥é è¦½
- **markdown-it** é«˜æ•ˆæ¸²æŸ“å¼•æ“
- **Prism.js** æ”¯æ´ 20+ ç¨‹å¼èªè¨€èªæ³•é«˜äº®
- GitHub Flavored Markdown (GFM) å®Œæ•´æ”¯æ´

### ğŸ’¾ **æª”æ¡ˆç®¡ç†**
- é–‹å•Ÿ/å„²å­˜/å¦å­˜æ–°æª”ï¼ˆCtrl+O/S/Shift+Sï¼‰
- æœªå„²å­˜è®Šæ›´è­¦å‘Šä¿è­·
- è¦–è¦ºåŒ–ç·¨è¼¯ç‹€æ…‹æŒ‡ç¤ºå™¨
- æ‹–æ”¾æª”æ¡ˆæ”¯æ´

### ğŸ“¤ **å¤šæ ¼å¼åŒ¯å‡º**
- **HTML åŒ¯å‡º**ï¼šGitHub é¢¨æ ¼å®Œæ•´æ¨£å¼ï¼ˆCtrl+Shift+Hï¼‰
- **PDF åŒ¯å‡º**ï¼šA4 é é¢ï¼Œå°ˆæ¥­æ’ç‰ˆï¼ˆCtrl+Shift+Pï¼‰
- è‡ªè¨‚æª”æ¡ˆåç¨±èˆ‡å„²å­˜ä½ç½®

### ğŸ“š **SQLite æ–‡ä»¶åº«**
- æœ¬åœ° SQLite è³‡æ–™åº«å„²å­˜
- FTS5 å…¨æ–‡æœå°‹å¼•æ“
- æ–‡ä»¶ CRUD å®Œæ•´æ“ä½œ
- è³‡æ–™å¤¾éšå±¤ç®¡ç†
- æ¨™ç±¤ç³»çµ±ï¼ˆå¤šå°å¤šé—œè¯ï¼‰
- è‡ªå‹•ç¶­è­·ç´¢å¼•èˆ‡å¤–éµç´„æŸ

### âŒ¨ï¸ **è±å¯Œçš„éµç›¤å¿«æ·éµ**
| åŠŸèƒ½ | Windows å¿«æ·éµ |
|------|---------------|
| é–‹å•Ÿæª”æ¡ˆ | `Ctrl+O` |
| å„²å­˜æª”æ¡ˆ | `Ctrl+S` |
| å¦å­˜æ–°æª” | `Ctrl+Shift+S` |
| åŒ¯å‡º HTML | `Ctrl+Shift+H` |
| åŒ¯å‡º PDF | `Ctrl+Shift+P` |
| æœå°‹ | `Ctrl+F` |
| å¾©åŸ/é‡åš | `Ctrl+Z` / `Ctrl+Y` |
| ä¸»é¡Œåˆ‡æ› | é»æ“Šæ¨™é¡Œæ¬„æŒ‰éˆ• |

## ğŸ–¼ï¸ æˆªåœ–

<!-- TODO: æ·»åŠ å¯¦éš›æˆªåœ– -->
```
æ·±è‰²ä¸»é¡Œï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MacDown                            ğŸŒ™ æ·±è‰²    â— Untitledâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  â”‚                                       â”‚
â”‚  # Markdown      â”‚  Markdown                            â”‚
â”‚  ç·¨è¼¯å™¨å€åŸŸ       â”‚  é è¦½å€åŸŸ                              â”‚
â”‚  (CodeMirror 6)  â”‚  (å³æ™‚æ¸²æŸ“)                           â”‚
â”‚                  â”‚                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ› ï¸ æŠ€è¡“æ£§

### å‰ç«¯
- **æ¡†æ¶**: React 18 + TypeScript 5.3
- **å»ºæ§‹å·¥å…·**: Vite 5 (HMR + ESBuild)
- **ç·¨è¼¯å™¨**: CodeMirror 6
- **æ¨£å¼**: Tailwind CSS 3 + Typography
- **ç‹€æ…‹ç®¡ç†**: Zustand (ä¸»é¡Œ + æ–‡ä»¶åº«)

### Markdown è™•ç†
- **æ¸²æŸ“å¼•æ“**: markdown-it 14
- **èªæ³•é«˜äº®**: Prism.js (20+ èªè¨€)
- **é è¦½ä¸»é¡Œ**: Tailwind Typography (prose)

### å¾Œç«¯
- **æ¡Œé¢æ¡†æ¶**: Electron 28
- **è³‡æ–™åº«**: better-sqlite3
- **æª”æ¡ˆç³»çµ±**: Node.js fs/promises
- **PDF ç”Ÿæˆ**: Electron printToPDF API

### é–‹ç™¼å·¥å…·
- **Monorepo**: pnpm workspace
- **ç¨‹å¼ç¢¼å“è³ª**: ESLint + Prettier
- **ç‰ˆæœ¬æ§åˆ¶**: Git

## ğŸ“¦ å®‰è£èˆ‡ä½¿ç”¨

### ç³»çµ±éœ€æ±‚
- **ä½œæ¥­ç³»çµ±**: Windows 10/11
- **Node.js**: >= 18.0.0
- **pnpm**: >= 8.0.0

### å¿«é€Ÿé–‹å§‹

#### 1. Clone å°ˆæ¡ˆ
```bash
git clone https://github.com/code-nomad365/macdown-win.git
cd macdown-win
```

#### 2. å®‰è£ä¾è³´
```bash
pnpm install
```

#### 3. ç·¨è­¯å°ˆæ¡ˆ
```bash
pnpm build
```

#### 4. å•Ÿå‹•æ‡‰ç”¨ç¨‹å¼
```bash
pnpm start
```

æˆ–ä½¿ç”¨ **ä¸€éµå•Ÿå‹•è…³æœ¬**ï¼š
```bash
start.bat
```

### é–‹ç™¼æ¨¡å¼

åŒæ™‚å•Ÿå‹•å‰ç«¯é–‹ç™¼ä¼ºæœå™¨èˆ‡ Electronï¼š

```bash
# çµ‚ç«¯æ©Ÿ 1ï¼šå•Ÿå‹• Vite é–‹ç™¼ä¼ºæœå™¨
pnpm dev

# çµ‚ç«¯æ©Ÿ 2ï¼šå•Ÿå‹• Electronï¼ˆè‡ªå‹•é€£æ¥ localhost:5174ï¼‰
pnpm dev:electron
```

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
macdown-win/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ main/                      # Electron ä¸»ç¨‹åº
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ database/          # SQLite è³‡æ–™åº«æ¨¡çµ„
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ db.ts          # è³‡æ–™åº«é€£æ¥
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ schema.ts      # Schema å®šç¾©
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ documents.ts   # æ–‡ä»¶ CRUD
â”‚   â”‚   â”‚   â”œâ”€â”€ ipc/               # IPC handlers
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ file-handler.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ export-handler.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ library-handler.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ preload/           # Preload scripts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.ts       # contextBridge API
â”‚   â”‚   â”‚   â””â”€â”€ index.ts           # ä¸»ç¨‹åºå…¥å£
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â””â”€â”€ renderer/                  # React å‰ç«¯
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ components/        # React å…ƒä»¶
â”‚       â”‚   â”‚   â””â”€â”€ CodeMirrorEditor.tsx
â”‚       â”‚   â”œâ”€â”€ hooks/             # è‡ªè¨‚ Hooks
â”‚       â”‚   â”‚   â””â”€â”€ useMarkdown.ts
â”‚       â”‚   â”œâ”€â”€ stores/            # Zustand stores
â”‚       â”‚   â”‚   â””â”€â”€ themeStore.ts
â”‚       â”‚   â”œâ”€â”€ lib/               # å·¥å…·å‡½å¼åº«
â”‚       â”‚   â”‚   â””â”€â”€ prism-config.ts
â”‚       â”‚   â”œâ”€â”€ types/             # TypeScript é¡å‹
â”‚       â”‚   â”‚   â””â”€â”€ electron.d.ts
â”‚       â”‚   â”œâ”€â”€ App.tsx            # ä¸»æ‡‰ç”¨ç¨‹å¼å…ƒä»¶
â”‚       â”‚   â””â”€â”€ main.tsx           # React å…¥å£
â”‚       â””â”€â”€ package.json
â”‚
â”œâ”€â”€ packages/
â”‚   â””â”€â”€ shared/                    # å…±äº«é¡å‹èˆ‡å·¥å…·
â”‚       â””â”€â”€ src/
â”‚           â””â”€â”€ types/
â”‚               â””â”€â”€ document.ts    # æ–‡ä»¶é¡å‹å®šç¾©
â”‚
â”œâ”€â”€ pnpm-workspace.yaml            # pnpm Monorepo è¨­å®š
â”œâ”€â”€ start.bat                      # Windows ä¸€éµå•Ÿå‹•è…³æœ¬
â””â”€â”€ README.md
```

## ğŸ”§ é–‹ç™¼æŒ‡å—

### å»ºæ§‹æµç¨‹

```bash
# ç·¨è­¯æ‰€æœ‰å¥—ä»¶
pnpm build

# åªç·¨è­¯ä¸»ç¨‹åº
pnpm --filter @macdown/main build

# åªç·¨è­¯å‰ç«¯
pnpm --filter @macdown/renderer build
```

### ç¨‹å¼ç¢¼å“è³ª

```bash
# ESLint æª¢æŸ¥
pnpm lint

# TypeScript é¡å‹æª¢æŸ¥
pnpm type-check

# æ¸…ç†æ‰€æœ‰å»ºæ§‹ç”¢ç‰©
pnpm clean
```

### æ–°å¢ä¾è³´

```bash
# ç‚ºä¸»ç¨‹åºæ–°å¢ä¾è³´
pnpm --filter @macdown/main add <package>

# ç‚ºå‰ç«¯æ–°å¢ä¾è³´
pnpm --filter @macdown/renderer add <package>

# æ–°å¢å…±äº«ä¾è³´
pnpm add <package> -w
```

## ğŸ—„ï¸ è³‡æ–™åº«æ¶æ§‹

MacDown ä½¿ç”¨ SQLite ä½œç‚ºæœ¬åœ°æ–‡ä»¶åº«ï¼š

### è³‡æ–™è¡¨

#### `documents` - æ–‡ä»¶è¡¨
| æ¬„ä½ | é¡å‹ | èªªæ˜ |
|------|------|------|
| id | TEXT | ä¸»éµï¼ˆUUIDï¼‰ |
| title | TEXT | æ–‡ä»¶æ¨™é¡Œ |
| content | TEXT | Markdown å…§å®¹ |
| folder_id | TEXT | æ‰€å±¬è³‡æ–™å¤¾ IDï¼ˆå¤–éµï¼‰ |
| created_at | INTEGER | å»ºç«‹æ™‚é–“æˆ³è¨˜ |
| updated_at | INTEGER | æ›´æ–°æ™‚é–“æˆ³è¨˜ |

#### `folders` - è³‡æ–™å¤¾è¡¨
| æ¬„ä½ | é¡å‹ | èªªæ˜ |
|------|------|------|
| id | TEXT | ä¸»éµï¼ˆUUIDï¼‰ |
| name | TEXT | è³‡æ–™å¤¾åç¨± |
| parent_id | TEXT | çˆ¶è³‡æ–™å¤¾ IDï¼ˆå¤–éµï¼Œæ”¯æ´éšå±¤ï¼‰ |
| created_at | INTEGER | å»ºç«‹æ™‚é–“æˆ³è¨˜ |

#### `tags` - æ¨™ç±¤è¡¨
| æ¬„ä½ | é¡å‹ | èªªæ˜ |
|------|------|------|
| id | TEXT | ä¸»éµï¼ˆUUIDï¼‰ |
| name | TEXT | æ¨™ç±¤åç¨±ï¼ˆå”¯ä¸€ï¼‰ |
| color | TEXT | æ¨™ç±¤é¡è‰² |
| created_at | INTEGER | å»ºç«‹æ™‚é–“æˆ³è¨˜ |

#### `document_tags` - æ–‡ä»¶æ¨™ç±¤é—œè¯è¡¨
| æ¬„ä½ | é¡å‹ | èªªæ˜ |
|------|------|------|
| document_id | TEXT | æ–‡ä»¶ IDï¼ˆå¤–éµï¼‰ |
| tag_id | TEXT | æ¨™ç±¤ IDï¼ˆå¤–éµï¼‰ |

### å…¨æ–‡æœå°‹

ä½¿ç”¨ SQLite FTS5 è™›æ“¬è¡¨ `documents_fts` æä¾›é«˜æ•ˆå…¨æ–‡æœå°‹ï¼š
- ç´¢å¼•æ–‡ä»¶æ¨™é¡Œèˆ‡å…§å®¹
- è§¸ç™¼å™¨è‡ªå‹•åŒæ­¥ç´¢å¼•
- æ”¯æ´ä¸­è‹±æ–‡æ··åˆæœå°‹

## ğŸ¯ åŠŸèƒ½è·¯ç·šåœ–

### v0.1.0 (å·²å®Œæˆ) âœ…
- [x] åŸºç¤ Monorepo æ¶æ§‹
- [x] Electron + React æ•´åˆ
- [x] CodeMirror 6 ç·¨è¼¯å™¨
- [x] markdown-it + Prism.js æ¸²æŸ“
- [x] æª”æ¡ˆé–‹å•Ÿ/å„²å­˜åŠŸèƒ½
- [x] ä¸»é¡Œåˆ‡æ›ç³»çµ±
- [x] HTML/PDF åŒ¯å‡º
- [x] SQLite æ–‡ä»¶åº«å¾Œç«¯
- [x] æœªå„²å­˜è®Šæ›´è­¦å‘Š

### v0.2.0 (è¦åŠƒä¸­) ğŸš§
- [ ] æ–‡ä»¶åº« UIï¼ˆå´é‚Šæ¬„ï¼‰
- [ ] è³‡æ–™å¤¾ç®¡ç†ä»‹é¢
- [ ] æ¨™ç±¤ç³»çµ± UI
- [ ] é€²éšæœå°‹ä»‹é¢
- [ ] æ–‡ä»¶åˆ—è¡¨æ’åº/ç¯©é¸
- [ ] æ‹–æ”¾æª”æ¡ˆåŒ¯å…¥

### v0.3.0 (æœªä¾†è¦åŠƒ) ğŸ“‹
- [ ] ç¨‹å¼ç¢¼å€å¡Šè¤‡è£½æŒ‰éˆ•
- [ ] åœ–ç‰‡æ‹–æ”¾è²¼ä¸Š
- [ ] è¡¨æ ¼ç·¨è¼¯å™¨
- [ ] è‡ªè¨‚ CSS æ¨£å¼
- [ ] Mermaid åœ–è¡¨æ”¯æ´
- [ ] æ•¸å­¸å…¬å¼ï¼ˆKaTeXï¼‰

### v1.0.0 (é•·æœŸç›®æ¨™) ğŸ¯
- [ ] Notion API åŒæ­¥
- [ ] é›²ç«¯å‚™ä»½
- [ ] å¤šè£ç½®åŒæ­¥
- [ ] Git æ•´åˆ
- [ ] å¤–æ›ç³»çµ±
- [ ] è‡ªè¨‚å¿«æ·éµ

## ğŸ¤ è²¢ç»æŒ‡å—

æ­¡è¿æäº¤ Issue èˆ‡ Pull Requestï¼

### æäº¤ PR å‰è«‹ç¢ºèªï¼š
1. ç¨‹å¼ç¢¼é€šé `pnpm lint` æª¢æŸ¥
2. TypeScript ç·¨è­¯ç„¡éŒ¯èª¤ (`pnpm type-check`)
3. åŠŸèƒ½æ¸¬è©¦é€šé
4. Commit è¨Šæ¯æ¸…æ™°ï¼ˆå»ºè­°ä½¿ç”¨ Conventional Commitsï¼‰

### Commit è¨Šæ¯æ ¼å¼ï¼š
```
feat: æ–°å¢åŠŸèƒ½
fix: ä¿®å¾©éŒ¯èª¤
docs: æ–‡ä»¶æ›´æ–°
style: ç¨‹å¼ç¢¼æ ¼å¼èª¿æ•´
refactor: é‡æ§‹
perf: æ•ˆèƒ½å„ªåŒ–
test: æ¸¬è©¦
chore: å»ºæ§‹å·¥å…·æˆ–è¼”åŠ©å·¥å…·çš„è®Šå‹•
```

## ğŸ“„ æˆæ¬Š

æœ¬å°ˆæ¡ˆæ¡ç”¨ [MIT License](LICENSE) æˆæ¬Šã€‚

## ğŸ™ è‡´è¬

- [MacDown](https://macdown.uranusjr.com/) - éˆæ„Ÿä¾†æº
- [Electron](https://www.electronjs.org/) - è·¨å¹³å°æ¡Œé¢æ¡†æ¶
- [CodeMirror 6](https://codemirror.net/) - å¼·å¤§çš„ç¨‹å¼ç¢¼ç·¨è¼¯å™¨
- [markdown-it](https://github.com/markdown-it/markdown-it) - Markdown è§£æå™¨
- [Prism.js](https://prismjs.com/) - èªæ³•é«˜äº®
- [Tailwind CSS](https://tailwindcss.com/) - CSS æ¡†æ¶

## ğŸ“® è¯çµ¡æ–¹å¼

- **GitHub**: [code-nomad365/macdown-win](https://github.com/code-nomad365/macdown-win)
- **Issues**: [æäº¤å•é¡Œ](https://github.com/code-nomad365/macdown-win/issues)

---

**â­ å¦‚æœé€™å€‹å°ˆæ¡ˆå°æ‚¨æœ‰å¹«åŠ©ï¼Œè«‹çµ¦æˆ‘å€‘ä¸€å€‹ Starï¼**

Made with â¤ï¸ using Electron + React + TypeScript
